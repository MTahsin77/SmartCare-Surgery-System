
{% extends 'base.html' %}

{% block content %}
<h2>Invoice Details</h2>
<div class="invoice-details">
    <p><strong>Invoice ID:</strong> {{ invoice.id }}</p>
    <p><strong>Patient:</strong> {{ invoice.patient.get_full_name }}</p>
    <p><strong>Patient Type:</strong> {{ invoice.get_patient_type_display }}</p>
    <p><strong>Appointment Date:</strong> {{ invoice.appointment.date }}</p>
    <p><strong>Consultation Length:</strong> {{ invoice.consultation_length }} minutes</p>
    <p><strong>Rate (per 10 minutes):</strong> £{{ invoice.rate }}</p>
    <p><strong>Total Amount:</strong> £{{ invoice.total_amount }}</p>
    <p><strong>Status:</strong> {{ invoice.get_payment_status_display }}</p>
    <p><strong>Date Issued:</strong> {{ invoice.date_issued }}</p>
    {% if invoice.date_paid %}
        <p><strong>Date Paid:</strong> {{ invoice.date_paid }}</p>
    {% endif %}
</div>
{% if user.is_staff %}
    <a href="{% url 'update_invoice' invoice.id %}" class="btn btn-primary">Update Invoice</a>
{% endif %}
<a href="{% url 'view_appointments' %}" class="btn btn-secondary">Back to Appointments</a>
{% endblock %}